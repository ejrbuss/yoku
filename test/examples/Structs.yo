--- mode Repl ---

--- test "Empty Struct" ---
struct Empty {}
const e = Empty {}
e --> Empty {}

--- test "Simple Struct" ---
struct Point {
	const x: Int
	const y: Int
}

Point { 1, 2 } --> Point { 1, 2 }
Point {} --> ! TypeError
Point { 1.5, 4 } --> ! TypeError
Point { 1 } --> ! TypeError
Point { 1, 2, 3 } --> ! TypeError

const p: Point = Point { x = 1, y = 5 }
p.x --> 1
p.y --> 5

Point { 6, y = 7 } --> Point { 6, 7 }
Point { y = 9, 99 } --> Point { 99, 9 }

--- test "Nested Struct" ---
struct Inner {
	const x: Bool
}

struct Outer {
	const i1: Inner
	const i2: Inner
	const y: Str
}

const e = Outer { Inner { true }, Inner { false }, "t" }
e.y --> "t"
e.i1.x --> true
e.i2.x --> false